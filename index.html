<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Análisis del Accidente - Auto A</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }
        .chart-container {
            width: 100%;
            height: 400px;
            margin: 30px 0;
            position: relative;
        }
        .data-summary {
            background-color: #f8f9fa;
            border-left: 4px solid #007bff;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        .data-summary h3 {
            color: #333;
            margin-top: 0;
        }
        .data-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .data-item {
            background-color: white;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #dee2e6;
        }
        .data-item strong {
            color: #007bff;
        }
        .conclusion {
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            padding: 20px;
            border-radius: 5px;
            margin-top: 30px;
        }
        .conclusion h3 {
            color: #856404;
            margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Análisis Pericial del Accidente - Auto A</h1>

        <div class="data-summary">
            <h3>Tabla 1: Parte Policial</h3>
            <div class="data-grid">
                <div class="data-item">
                    <strong>Distancia de frenado - Auto A:</strong> 11.0 m
                </div>
                <div class="data-item">
                    <strong>Distancia de frenado - Auto B:</strong> 21.1 m
                </div>
                <div class="data-item">
                    <strong>Velocímetro trabado - Auto A:</strong> 0 km/h
                </div>
                <div class="data-item">
                    <strong>Velocímetro trabado - Auto B:</strong> 28.8 km/h
                </div>
                <div class="data-item">
                    <strong>Acelerómetro trabado - Auto A:</strong> 5.00 m/s²
                </div>
                <div class="data-item">
                    <strong>Acelerómetro trabado - Auto B:</strong> 10.0 m/s²
                </div>
                <div class="data-item">
                    <strong>Tiempo total hasta el choque (ambos):</strong> 2.40 s
                </div>
            </div>
        </div>
        
        <div class="data-summary">
            <h3>Tabla 2: Tiempo de Reacción Según Estado del Conductor</h3>
            <div class="data-grid">
                <div class="data-item">
                    <strong>Estado:</strong> Normal<br>
                    <strong>Tiempo de reacción:</strong> 0.300 s
                </div>
                <div class="data-item">
                    <strong>Estado:</strong> Alcoholizado<br>
                    <strong>Tiempo de reacción:</strong> 0.600 s
                </div>
                <div class="data-item">
                    <strong>Estado:</strong> Drogado<br>
                    <strong>Tiempo de reacción:</strong> 0.900 s
                </div>
                <div class="data-item">
                    <strong>Estado:</strong> Revisando el celular<br>
                    <strong>Tiempo de reacción:</strong> 1.500 s
                </div>
            </div>
        </div>

        <div class="data-summary">
            <h3>Datos Calculados del Auto A</h3>
            <div class="data-grid">
                <div class="data-item">
                    <strong>Velocidad inicial:</strong> 10.49 m/s (37.8 km/h)
                </div>
                <div class="data-item">
                    <strong>Velocidad final:</strong> 0 m/s (0 km/h)
                </div>
                <div class="data-item">
                    <strong>Tiempo de reacción:</strong> 0.30 s
                </div>
                <div class="data-item">
                    <strong>Tiempo de frenado:</strong> 2.10 s
                </div>
                <div class="data-item">
                    <strong>Desaceleración:</strong> -5.00 m/s²
                </div>
                <div class="data-item">
                    <strong>Distancia de frenado:</strong> 11.0 m
                </div>
            </div>
        </div>

        <div class="chart-container">
            <canvas id="velocityChart"></canvas>
        </div>

        <div class="chart-container">
            <canvas id="accelerationChart"></canvas>
        </div>

        <div class="conclusion">
            <h3>Conclusión Técnica</h3>
            <p>El tiempo de reacción calculado de <strong>0.30 segundos</strong> corresponde al de un conductor en estado <strong>NORMAL</strong>, según la Tabla 2 proporcionada. Esto contradice el testimonio del testigo que afirmaba que el conductor estaba en estado etílico (que tendría un tiempo de reacción de 0.60 s).</p>
            <p>La evidencia física sugiere que el conductor del Auto A no se encontraba bajo los efectos del alcohol al momento del accidente.</p>
        </div>
    </div>

    <script>
        // Datos para los gráficos
        const timeLabels = [0, 0.30, 0.31, 1.0, 1.5, 2.0, 2.40];
        const velocityData = [10.49, 10.49, 10.49, 7.04, 4.59, 2.14, 0];
        const accelerationData = [0, 0, -5.0, -5.0, -5.0, -5.0, -5.0];

        // Configuración del gráfico de velocidad
        const velocityCtx = document.getElementById('velocityChart').getContext('2d');
        new Chart(velocityCtx, {
            type: 'line',
            data: {
                labels: timeLabels,
                datasets: [{
                    label: 'Velocidad (m/s)',
                    data: velocityData,
                    borderColor: 'rgb(75, 192, 192)',
                    backgroundColor: 'rgba(75, 192, 192, 0.2)',
                    tension: 0,
                    borderWidth: 3,
                    pointBackgroundColor: 'rgb(75, 192, 192)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Velocidad vs Tiempo - Auto A',
                        font: {
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Tiempo (s)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        grid: {
                            display: true,
                            color: 'rgba(0,0,0,0.1)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Velocidad (m/s)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        beginAtZero: true,
                        max: 12,
                        grid: {
                            display: true,
                            color: 'rgba(0,0,0,0.1)'
                        }
                    }
                },
                elements: {
                    line: {
                        tension: 0
                    }
                },
                annotations: {
                    line1: {
                        type: 'line',
                        xMin: 0.30,
                        xMax: 0.30,
                        borderColor: 'red',
                        borderWidth: 2,
                        borderDash: [5, 5],
                        label: {
                            content: 'Inicio del frenado',
                            enabled: true,
                            position: 'top'
                        }
                    }
                }
            }
        });

        // Configuración del gráfico de aceleración
        const accelerationCtx = document.getElementById('accelerationChart').getContext('2d');
        new Chart(accelerationCtx, {
            type: 'line',
            data: {
                labels: timeLabels,
                datasets: [{
                    label: 'Aceleración (m/s²)',
                    data: accelerationData,
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    tension: 0,
                    borderWidth: 3,
                    pointBackgroundColor: 'rgb(255, 99, 132)',
                    pointBorderColor: '#fff',
                    pointBorderWidth: 2,
                    pointRadius: 6,
                    stepped: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: {
                        display: true,
                        text: 'Aceleración vs Tiempo - Auto A',
                        font: {
                            size: 16,
                            weight: 'bold'
                        }
                    },
                    legend: {
                        display: true,
                        position: 'top'
                    }
                },
                scales: {
                    x: {
                        title: {
                            display: true,
                            text: 'Tiempo (s)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        grid: {
                            display: true,
                            color: 'rgba(0,0,0,0.1)'
                        }
                    },
                    y: {
                        title: {
                            display: true,
                            text: 'Aceleración (m/s²)',
                            font: {
                                size: 14,
                                weight: 'bold'
                            }
                        },
                        min: -6,
                        max: 1,
                        grid: {
                            display: true,
                            color: 'rgba(0,0,0,0.1)'
                        }
                    }
                },
                elements: {
                    line: {
                        tension: 0
                    }
                }
            }
        });
    </script>
</body>
</html>
